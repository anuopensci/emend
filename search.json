[{"path":"https://emitanaka.org/SAI/articles/setup-LLM.html","id":"ollama","dir":"Articles","previous_headings":"","what":"Ollama (local LLM)","title":"Setting up a LLM","text":"can download Ollama . Select one corresponding OS. Windows, Preview version. Open terminal start ollama. Check version ollama: Pull LLM, say llama3.1:8b (see list models availble ):","code":"ollama serve ollama --version ollama pull llama3.1:8b"},{"path":"https://emitanaka.org/SAI/articles/setup-LLM.html","id":"api","dir":"Articles","previous_headings":"","what":"API Access (requires internet and account at vendor)","title":"Setting up a LLM","text":"vendors listed table uses cloud computing run LLM. need register account vendor, get API key associated account store key environmental variable specified second column table . environmental variable need stored .Renviron file located R session. easiest way find file use usethis::edit_r_environ() open file. file need enter key like . need restart R session entering API key. vendors give free access, however may cost involved particular usages (e.g. commercial).","code":"OPENAI_API_KEY=[YOUR API KEY]"},{"path":"https://emitanaka.org/SAI/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emi Tanaka. Author, maintainer, copyright holder.","code":""},{"path":"https://emitanaka.org/SAI/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tanaka E (2024). SAI: Standarise data AI assistant. R package version 0.0.0.9000, http://emitanaka.org/SAI/, https://github.com/emitanaka/SAI.","code":"@Manual{,   title = {SAI: Standarise data with an AI assistant},   author = {Emi Tanaka},   year = {2024},   note = {R package version 0.0.0.9000, http://emitanaka.org/SAI/},   url = {https://github.com/emitanaka/SAI}, }"},{"path":"https://emitanaka.org/SAI/index.html","id":"sai","dir":"","previous_headings":"","what":"Standarise data with an AI assistant","title":"Standarise data with an AI assistant","text":"Save time effort using SAI clean standardise data. SAI package AI assistant contain collection functions help data cleaning tasks.","code":""},{"path":"https://emitanaka.org/SAI/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Standarise data with an AI assistant","text":"can install development version SAI like : also need install Ollama one models, llama3.1:8b (default SAI package). can running following command terminal:","code":"# install.packages(\"pak\") pak::pak(\"emitanaka/SAI\") ollama pull llama3.1:8b"},{"path":"https://emitanaka.org/SAI/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Standarise data with an AI assistant","text":"","code":"library(SAI)"},{"path":"https://emitanaka.org/SAI/index.html","id":"correcting-order-of-levels-for-ordinal-variables","dir":"","previous_headings":"Example","what":"Correcting order of levels for ordinal variables","title":"Standarise data with an AI assistant","text":"levels categorical variables default ordered alphabetically. can problematic levels natural order. correct order may need manually specified like , can tedious task. sai_fct_reorder() function try reorder levels factor meaningful way automatically using large language model.","code":"factor(likerts$likert1) #>  [1] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #>  [5] Disagree          Somewhat Agree    Strongly Agree    Somewhat Disagree #>  [9] Agree             Disagree          Somewhat Disagree Somewhat Disagree #> [13] Strongly Disagree Somewhat Agree    Somewhat Agree    Disagree          #> [17] Agree             Agree             Disagree          Strongly Agree    #> [21] Strongly Disagree Strongly Agree    Somewhat Agree    Somewhat Agree    #> [25] Strongly Disagree Strongly Disagree Agree             Somewhat Agree    #> [29] Somewhat Agree    Disagree          Disagree          Agree             #> [33] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #> [37] Neutral           Somewhat Disagree Agree             Disagree          #> 7 Levels: Agree Disagree Neutral Somewhat Agree ... Strongly Disagree factor(likerts$likert1,         levels = c(\"Strongly Disagree\", \"Disagree\", \"Somewhat Disagree\", \"Neutral\", \"Somewhat Agree\", \"Agree\", \"Strongly Agree\"))  #>  [1] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #>  [5] Disagree          Somewhat Agree    Strongly Agree    Somewhat Disagree #>  [9] Agree             Disagree          Somewhat Disagree Somewhat Disagree #> [13] Strongly Disagree Somewhat Agree    Somewhat Agree    Disagree          #> [17] Agree             Agree             Disagree          Strongly Agree    #> [21] Strongly Disagree Strongly Agree    Somewhat Agree    Somewhat Agree    #> [25] Strongly Disagree Strongly Disagree Agree             Somewhat Agree    #> [29] Somewhat Agree    Disagree          Disagree          Agree             #> [33] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #> [37] Neutral           Somewhat Disagree Agree             Disagree          #> 7 Levels: Strongly Disagree Disagree Somewhat Disagree ... Strongly Agree sai_fct_reorder(likerts$likert1) |> levels() #> [1] \"Strongly Disagree\" \"Disagree\"          \"Somewhat Disagree\" #> [4] \"Neutral\"           \"Somewhat Agree\"    \"Agree\"             #> [7] \"Strongly Agree\""},{"path":"https://emitanaka.org/SAI/index.html","id":"large-language-model","dir":"","previous_headings":"Example","what":"Large language model","title":"Standarise data with an AI assistant","text":"default large language model shown . can change model another one (provided available system) like : Tiny models (1b) faster less accurate. recommended use important tasks.","code":"sai_get_option(\"model\") #> [1] \"llama3.1:8b\" sai_set_option(\"model\", \"llama3.1:1b\")"},{"path":"https://emitanaka.org/SAI/index.html","id":"categorise-text","dir":"","previous_headings":"Example","what":"Categorise text","title":"Standarise data with an AI assistant","text":"categorical variables can simple typos alternative representations. example UK written also “United Kingdom”. can manually fix , , can tedious. can map automatically using sai_fct_match() function actucally works match continent well! Let’s use sai_lvl_match() easily see conversion levels alone.","code":"messy$country #>  [1] \"UK\"             \"US\"             \"Canada\"         \"UK\"             #>  [5] \"US\"             \"Canada\"         \"United Kingdom\" \"USA\"            #>  [9] \"New Zealand\"    \"NZ\"             \"Australia\"      \"New Zealand\"    #> [13] \"UK\"             \"United Kingdom\" \"UK\"             \"US\"             #> [17] \"United Kingdom\" \"Australia\"      \"US\"             \"Australia\" sai_fct_match(messy$country, levels = c(\"UK\", \"USA\", \"Canada\", \"Australia\", \"NZ\")) #>  [1] UK        USA       Canada    UK        USA       Canada    UK        #>  [8] USA       NZ        NZ        Australia NZ        UK        UK        #> [15] UK        USA       UK        Australia USA       Australia #> Levels: UK USA Canada Australia NZ sai_lvl_match(messy$country, levels = c(\"Asia\", \"Europe\", \"North America\", \"Oceania\", \"South America\")) #>              UK              US          Canada  United Kingdom             USA  #>        \"Europe\" \"North America\" \"North America\"        \"Europe\" \"North America\"  #>     New Zealand              NZ       Australia  #>       \"Oceania\"       \"Oceania\"       \"Oceania\" #>  #> ── Converted by SAI: ─────────────────────────────────────────────────────────── #>         original     converted #> 1             UK        Europe #> 2 United Kingdom        Europe #> 3             US North America #> 4         Canada North America #> 5            USA North America #> 6    New Zealand       Oceania #> 7             NZ       Oceania #> 8      Australia       Oceania"},{"path":"https://emitanaka.org/SAI/index.html","id":"translate","dir":"","previous_headings":"Example","what":"Translate","title":"Standarise data with an AI assistant","text":"sai_translate() function can used translate text another language (default English).","code":"sai_translate(c(\"猿も木から落ちる\", \"你好\")) #> [1] \"Even monkeys fall from trees.\\n\\n(This is a Japanese proverb, often translated as \\\"even the cleverest people can make mistakes\\\".)\" #> [2] \"Hello \\n\\nTranslated to English, it becomes:\\n\\nHello\""},{"path":"https://emitanaka.org/SAI/reference/SAI-package.html","id":null,"dir":"Reference","previous_headings":"","what":"SAI: Standarise data with an AI assistant — SAI-package","title":"SAI: Standarise data with an AI assistant — SAI-package","text":"package provides simple interface use large language models clean data.","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/SAI-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SAI: Standarise data with an AI assistant — SAI-package","text":"Maintainer: Emi Tanaka dr.emi.tanaka@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":null,"dir":"Reference","previous_headings":"","what":"Airbnb listings and reviews — airbnb_listings","title":"Airbnb listings and reviews — airbnb_listings","text":"sample dataset Airbnb listings reviews properties Sydney, Australia. sample dataset Airbnb listings reviews properties Sydney, Australia.","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Airbnb listings and reviews — airbnb_listings","text":"","code":"airbnb_listings  airbnb_reviews  airbnb_listings  airbnb_reviews"},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"airbnb-listings","dir":"Reference","previous_headings":"","what":"airbnb_listings","title":"Airbnb listings and reviews — airbnb_listings","text":"data.frame 1623 rows 68 columns id Unique identifier listing name Name listing host_id Unique identifier host host_name Name host neighbourhood_group_cleansed Neighbourhood group neighbourhood_cleansed Neighbourhood latitude Latitude listing longitude Longitude listing room_type Type room price Price per night minimum_nights Minimum nights required maximum_nights Maximum nights allowed availability_30 Number days available next 30 days availability_60 Number days available next 60 days availability_90 Number days available next 90 days availability_365 Number days available next 365 days number_of_reviews Number reviews number_of_reviews_ltm Number reviews last 12 months first_review Date first review last_review Date last review review_scores_rating Rating score review_scores_accuracy Accuracy score review_scores_cleanliness Cleanliness score review_scores_checkin Check-score review_scores_communication Communication score review_scores_location Location score review_scores_value Value score instant_bookable Instant booking available calculated_host_listings_count Number listings host calculated_host_listings_count_entire_homes Number entire homes host calculated_host_listings_count_private_rooms Number private rooms host calculated_host_listings_count_shared_rooms Number shared rooms host reviews_per_month Number reviews per month host_is_superhost Host superhost host_has_profile_pic Host profile picture host_identity_verified Host identity verified host_response_time Host response time host_response_rate Host response rate host_acceptance_rate Host acceptance rate host_neighbourhood Host neighbourhood host_listings_count Number listings host host_total_listings_count Total number listings host host_verifications Host verifications host_has_profile_pic Host profile picture host_identity_verified Host identity verified neighbourhood Neighbourhood neighbourhood_cleansed Neighbourhood neighbourhood_group_cleansed Neighbourhood group city City state State zipcode Zipcode market Market smart_location Smart location country_code Country code country Country latitude Latitude longitude Longitude is_location_exact Location exact property_type Property type room_type Room type accommodates Number guests accommodated bathrooms Number bathrooms bedrooms Number bedrooms beds Number beds bed_type Type bed amenities Amenities square_feet Square feet price Price per night weekly_price Weekly price monthly_price Monthly price security_deposit Security deposit cleaning_fee Cleaning fee","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"airbnb-reviews","dir":"Reference","previous_headings":"","what":"airbnb_reviews","title":"Airbnb listings and reviews — airbnb_listings","text":"data.frame 5679 rows 6 columns listing_id Unique identifier listing id Unique identifier review date Date review reviewer_id Unique identifier reviewer reviewer_name Name reviewer comments Text review","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"airbnb-listings-1","dir":"Reference","previous_headings":"","what":"airbnb_listings","title":"Airbnb listings and reviews — airbnb_listings","text":"data.frame 1623 rows 68 columns id Airbnb's unique identifier listing. name Name listing. description Detailed description listing. neighborhood_overview Host's description neighbourhood. picture_url URL Airbnb hosted regular sized image listing. host_id Airbnb's unique identifier host/user. host_name Name host. Usually just first name(s). host_since date host/user created. hosts Airbnb guests date registered guest. host_location host's self reported location. host_about Description host. host_response_time time interval host responds inquiry guest. host_response_rate Percentage inquiries potential guests responded hosts. host_acceptance_rate rate host accepts booking requests. host_is_superhost Whether host super host . host_thumbnail_url thumbnail host. host_picture_url URL picture host. host_neighbourhood host neighbourhood. host_listings_count number listings host . host_total_listings_count number listings host . host_verifications Host communication verifications. host_has_profile_pic Whether host profile pic. host_identity_verified Whether host identity verified. neighbourhood_cleansed neighbourhood geocoded using latitude longitude neighborhoods defined open public digital shapefiles. latitude Uses World Geodetic System (WGS84) projection latitude longitude. longitude Uses World Geodetic System (WGS84) projection latitude longitude. property_type Self selected property type. Hotels Bed Breakfasts described hosts field. room_type Entire home/apt, Private room, Shared room, Hotel. Entire places best seeking home away home. entire place, whole space . usually includes bedroom, bathroom, kitchen, separate, dedicated entrance. Hosts note description property (ex: \"Host occupies first floor home\"), provide details listing. Private rooms great prefer little privacy, still value local connection. book private room, private room sleeping may share spaces others. might need walk indoor spaces another host guest may occupy get room. Shared rooms mind sharing space others. book shared room, sleeping space shared others share entire space people. Shared rooms popular among flexible travelers looking new friends budget-friendly stays. accommodates maximum capacity listing. bathrooms number bathrooms listing. bathrooms_text text number bathsroom listings. bedrooms number bedrooms. beds number bed(s). amenities amenities. price Daily price local currency. minimum_nights Minimum number night stay listing. maximum_nights Maximum number night stay listing. minimum_minimum_nights smallest minimum_night value calender (looking 365 nights future). maximum_minimum_nights largest minimum_night value calender (looking 365 nights future). minimum_maximum_nights smallest maximum_night value calender (looking 365 nights future). maximum_maximum_nights largest maximum_night value calender (looking 365 nights future). minimum_nights_avg_ntm average minimum_night value calender (looking 365 nights future). maximum_nights_avg_ntm average maximum_night value calender (looking 365 nights future). has_availability Whether availability . availability_30 availability listing x days future determined calendar. Note listing may available booked guest blocked host. availability_60  availability_90  availability_365  number_of_reviews number reviews listing . number_of_reviews_ltm number reviews listing (last 12 months). number_of_reviews_l30d number reviews listing (last 30 days). first_review date first/oldest review. last_review date last/newest review. review_scores_rating review score ratings listing. review_scores_accuracy review score accuracy listing. review_scores_cleanliness review score cleanliness listing. review_scores_checkin review score checkin experience listing. review_scores_communication review score communication listing. review_scores_location review score location listing. review_scores_value review score value listing. license licence/permit/registration number. instant_bookable Whether guest can automatically book listing without host requiring accept booking request. indicator commercial listing. calculated_host_listings_count number listings host current scrape, city/region geography. calculated_host_listings_count_entire_homes number Entire home/apt listings host current scrape, city/region geography. calculated_host_listings_count_private_rooms number Private room listings host current scrape, city/region geography. calculated_host_listings_count_shared_rooms number Shared room listings host current scrape, city/region geography. reviews_per_month average number reviews per month listing lifetime listing.","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"airbnb-reviews-1","dir":"Reference","previous_headings":"","what":"airbnb_reviews","title":"Airbnb listings and reviews — airbnb_listings","text":"data.frame 5679 rows 6 columns listing_id Unique identifier listing id Unique identifier review date Date review reviewer_id Unique identifier reviewer reviewer_name Name reviewer comments Text review","code":""},{"path":"https://emitanaka.org/SAI/reference/airbnb_listings.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Airbnb listings and reviews — airbnb_listings","text":"https://insideairbnb.com/get--data/ https://insideairbnb.com/get--data/","code":""},{"path":"https://emitanaka.org/SAI/reference/alcohol.html","id":null,"dir":"Reference","previous_headings":"","what":"Alcohol warehouse adn retail sales — alcohol","title":"Alcohol warehouse adn retail sales — alcohol","text":"year Year month Month supplier Supplier item_code Item code item_description Item description item_type Item type retail_sales Retail sales retail_transfers Retail transfers warehouse_sales Warehouse sales","code":""},{"path":"https://emitanaka.org/SAI/reference/alcohol.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Alcohol warehouse adn retail sales — alcohol","text":"","code":"alcohol"},{"path":"https://emitanaka.org/SAI/reference/alcohol.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Alcohol warehouse adn retail sales — alcohol","text":"object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 1000 rows 9 columns.","code":""},{"path":"https://emitanaka.org/SAI/reference/alcohol.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Alcohol warehouse adn retail sales — alcohol","text":"https://catalog.data.gov/dataset/warehouse--retail-sales","code":""},{"path":"https://emitanaka.org/SAI/reference/as_prompt.html","id":null,"dir":"Reference","previous_headings":"","what":"Make it into prompt — as_prompt","title":"Make it into prompt — as_prompt","text":"Make prompt","code":""},{"path":"https://emitanaka.org/SAI/reference/as_prompt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make it into prompt — as_prompt","text":"","code":"as_prompt(x, role, .content_envir = rlang::caller_env())"},{"path":"https://emitanaka.org/SAI/reference/as_prompt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make it into prompt — as_prompt","text":"x input. role role.","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/consumer.html","id":null,"dir":"Reference","previous_headings":"","what":"Amazon consumer reviews — consumer","title":"Amazon consumer reviews — consumer","text":"sample reviews Amazon applicances category.","code":""},{"path":"https://emitanaka.org/SAI/reference/consumer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Amazon consumer reviews — consumer","text":"","code":"consumer  consumer"},{"path":"https://emitanaka.org/SAI/reference/consumer.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Amazon consumer reviews — consumer","text":"object class tbl_df (inherits tbl, data.frame) 4549 rows 9 columns. data.frame 4549 rows 11 columns overall Overall rating product. verified Whether reviewer verified . review_date Review date. review_id unique identifier reviewer. reviewer_name name reviewer. review_text text review. summary Summary review. vote_helpful number helpful votes review. image images reviewer post receive product.","code":""},{"path":"https://emitanaka.org/SAI/reference/consumer.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Amazon consumer reviews — consumer","text":"Jianmo Ni, Jiacheng Li, Julian McAuley (2019) Justifying recommendations using distantly-labeled reviews fined-grained aspects. Empirical Methods Natural Language Processing .","code":""},{"path":"https://emitanaka.org/SAI/reference/hotel.html","id":null,"dir":"Reference","previous_headings":"","what":"Hotel reviews — hotel","title":"Hotel reviews — hotel","text":"sample review hotels.","code":""},{"path":"https://emitanaka.org/SAI/reference/hotel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hotel reviews — hotel","text":"","code":"hotel  hotel"},{"path":"https://emitanaka.org/SAI/reference/hotel.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Hotel reviews — hotel","text":"object class tbl_df (inherits tbl, data.frame) 13193 rows 8 columns. data.frame 13,193 rows 8 columns reviewer_name name reviewer. reviewer_nationality nationality reviewer. reviewer_rating Reviewer's rating. review_date Date review. review_title Title review. review_text Text review. hotel_name Name hotel reviewed. avg_rating Average rating hotel.","code":""},{"path":"https://emitanaka.org/SAI/reference/hotel.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Hotel reviews — hotel","text":"https://www.kaggle.com/datasets/nikitaryabukhin/reviewshotel","code":""},{"path":"https://emitanaka.org/SAI/reference/is_prompt.html","id":null,"dir":"Reference","previous_headings":"","what":"Is this a prompt? — is_prompt","title":"Is this a prompt? — is_prompt","text":"prompt?","code":""},{"path":"https://emitanaka.org/SAI/reference/is_prompt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Is this a prompt? — is_prompt","text":"","code":"is_prompt(x, role)  is_prompt_user(x)  is_prompt_system(x)  is_prompt_assistant(x)"},{"path":"https://emitanaka.org/SAI/reference/is_prompt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Is this a prompt? — is_prompt","text":"x input.","code":""},{"path":"https://emitanaka.org/SAI/reference/is_prompt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Is this a prompt? — is_prompt","text":"logical value indicate prompt .","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/is_prompt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Is this a prompt? — is_prompt","text":"","code":"is_prompt(prompt_user(\"Hi!\")) #> [1] TRUE"},{"path":"https://emitanaka.org/SAI/reference/likerts.html","id":null,"dir":"Reference","previous_headings":"","what":"A collection of different likert scales — likerts","title":"A collection of different likert scales — likerts","text":"data set containing 9 different likert scales.","code":""},{"path":"https://emitanaka.org/SAI/reference/likerts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A collection of different likert scales — likerts","text":"","code":"likerts"},{"path":"https://emitanaka.org/SAI/reference/likerts.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A collection of different likert scales — likerts","text":"data.frame 40 rows 9 columns likert1 7-point agreeableness likert scale. likert2 5-point agreeableness likert scale. likert3 5-point agreeableness likert scale sentence. likert4 5-point frequency likert scale. likert5 5-point rating likert scale. likert6 5-point likelihood likert scale. likert7 5-point likert scale. likert8 5-point satisfaction likert scale. likert9 6-point priority likert scale.","code":""},{"path":"https://emitanaka.org/SAI/reference/messy.html","id":null,"dir":"Reference","previous_headings":"","what":"A collection of messy inputs — messy","title":"A collection of messy inputs — messy","text":"synthetic dataset contains inputs common standardisation issues.","code":""},{"path":"https://emitanaka.org/SAI/reference/messy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A collection of messy inputs — messy","text":"","code":"messy"},{"path":"https://emitanaka.org/SAI/reference/messy.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A collection of messy inputs — messy","text":"list 3 character vectors country character vector countries. suburb character vector suburbs Australia various typos. school character vector schools college (typos) Australian National University.","code":""},{"path":"https://emitanaka.org/SAI/reference/ollama_model_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the list of ollama models available locally — ollama_model_list","title":"Get the list of ollama models available locally — ollama_model_list","text":"Get list ollama models available locally","code":""},{"path":"https://emitanaka.org/SAI/reference/ollama_model_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the list of ollama models available locally — ollama_model_list","text":"","code":"ollama_model_list(port = sai_get_option(\"port\"))"},{"path":"https://emitanaka.org/SAI/reference/ollama_model_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the list of ollama models available locally — ollama_model_list","text":"port port number.","code":""},{"path":"https://emitanaka.org/SAI/reference/prompt_user.html","id":null,"dir":"Reference","previous_headings":"","what":"Prompt input for the LLM — prompt_user","title":"Prompt input for the LLM — prompt_user","text":"helper function create prompt input.","code":""},{"path":"https://emitanaka.org/SAI/reference/prompt_user.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prompt input for the LLM — prompt_user","text":"","code":"prompt_user(   content,   images = NULL,   tool_calls = NULL,   .content_envir = rlang::caller_env(),   .collapse_regex = \"[*]$\" )  prompt_assistant(   content,   images = NULL,   tool_calls = NULL,   .content_envir = rlang::caller_env(),   .collapse_regex = \"[*]$\" )  prompt_system(   content,   images = NULL,   tool_calls = NULL,   .content_envir = rlang::caller_env(),   .collapse_regex = \"[*]$\" )"},{"path":"https://emitanaka.org/SAI/reference/prompt_user.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prompt input for the LLM — prompt_user","text":"content single text content \"\" evaluated R expression. bracket contains \"\" end (regular expression match specified .collapse_regex) collapses comma separated list square bracket element single quoted. E.g. \"1:3\" expands '1', '2', '3'. images list path url images (base64 encoded images). tool_calls Currently work intended. .content_envir environment used evaluate content. .collapse_regex regular expression match collapse content. role role \"user\", \"assistant\" \"system\".","code":""},{"path":"https://emitanaka.org/SAI/reference/prompt_user.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prompt input for the LLM — prompt_user","text":"","code":"prompt_user(\"What should I eat today? Pick one of {c('Ramen', 'Pizza', 'Burger')*}.\") #> $role #> [1] \"user\" #>  #> $content #> What should I eat today? Pick one of ['Ramen', 'Pizza', 'Burger']. #>  #> attr(,\"class\") #> [1] \"prompt\" \"list\""},{"path":"https://emitanaka.org/SAI/reference/recipes.html","id":null,"dir":"Reference","previous_headings":"","what":"Recipes — recipes","title":"Recipes — recipes","text":"sample 200 recipes.","code":""},{"path":"https://emitanaka.org/SAI/reference/recipes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recipes — recipes","text":"","code":"recipes"},{"path":"https://emitanaka.org/SAI/reference/recipes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Recipes — recipes","text":"data.frame 200 rows 7 columns. name name dish. ingredients list ingredients. url URL recipe. image image dish. cook_time Cooking time. prep_time Preperation time. servings number servings text.","code":""},{"path":"https://emitanaka.org/SAI/reference/recipes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Recipes — recipes","text":"https://github.com/jakevdp/open-recipe-data/tree/main","code":""},{"path":"https://emitanaka.org/SAI/reference/restaurant.html","id":null,"dir":"Reference","previous_headings":"","what":"Review of Iori restaurant — restaurant","title":"Review of Iori restaurant — restaurant","text":"Iori Japanese restaurant Canberra, Australia. data contains sample 20 reviews Google maps.","code":""},{"path":"https://emitanaka.org/SAI/reference/restaurant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Review of Iori restaurant — restaurant","text":"","code":"restaurant"},{"path":"https://emitanaka.org/SAI/reference/restaurant.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Review of Iori restaurant — restaurant","text":"data.frame 20 rows 2 columns review text review. rating rating 5.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_assist.html","id":null,"dir":"Reference","previous_headings":"","what":"SAI the general assistant — sai_assist","title":"SAI the general assistant — sai_assist","text":"SAI general assistant","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_assist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SAI the general assistant — sai_assist","text":"","code":"sai_assist(   prompt = NULL,   model = sai_get_option(\"model\"),   port = sai_get_option(\"port\"),   format = c(\"none\", \"json\"),   tools = NULL,   temperature = 0,   stop = NA,   seed = NA,   top_k = 1,   top_p = 0.1,   num_predict = sai_get_option(\"num_predict\"),   keep_alive = \"5m\",   .content_envir = rlang::caller_env(),   ... )"},{"path":"https://emitanaka.org/SAI/reference/sai_assist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SAI the general assistant — sai_assist","text":"prompt list prompts text prompt. model ollama model name, e.g. llama3.2:1b (default), gemma:7b, llama3.1:8b port port number. format format use. Default NA currently option \"json\". temperature temperature model higher temperature means higher creativity. stop list stop sequences use.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_fct_sweep.html","id":null,"dir":"Reference","previous_headings":"","what":"Sweep factor levels to group similar levels together — sai_fct_sweep","title":"Sweep factor levels to group similar levels together — sai_fct_sweep","text":"function attempts automatically standardise input labels making assumptions. assumptions include levels high frequency correct low frequency levels may contain typos alternative representation existing levels.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_fct_sweep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sweep factor levels to group similar levels together — sai_fct_sweep","text":"","code":"sai_fct_sweep(   .f,   known = NULL,   wrong = NULL,   nlevels_max = length(unique(.f)) - length(wrong),   nlevels_min = length(unique(known)) + 1,   nlevels_top = round(nlevels_max * 0.25),   nlevels_bottom = 0,   n_min = 1L,   ... )  sai_lvl_sweep(   .f,   known = NULL,   wrong = NULL,   nlevels_max = length(unique(.f)) - length(wrong),   nlevels_min = length(unique(known)) + 1,   nlevels_top = round(nlevels_max * 0.25),   nlevels_bottom = 0,   n_min = 1L,   ... )"},{"path":"https://emitanaka.org/SAI/reference/sai_fct_sweep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sweep factor levels to group similar levels together — sai_fct_sweep","text":".f factor known character vector levels known correct. none provided, assumed correct values known. element name associated , assumed name recorded value actual label . wrong character vector levels known wrong grouped another level. nlevels_max maximum number levels. nlevels_min minimum number levels. nlevels_top number levels correct based top frequencies, excluding levels observations less n_min. nlevels_bottom number levels incorrect based bottom frequencies, excluding observation less n_min. n_min minimum observations level. default 1.","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/sai_is_language.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine if the input is a particular language — sai_is_language","title":"Determine if the input is a particular language — sai_is_language","text":"Determine input particular language","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_is_language.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine if the input is a particular language — sai_is_language","text":"","code":"sai_is_language(text, language = sai_get_option(\"language\"))"},{"path":"https://emitanaka.org/SAI/reference/sai_is_language.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine if the input is a particular language — sai_is_language","text":"text text. language language check. default \"English\".","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/sai_is_language.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine if the input is a particular language — sai_is_language","text":"","code":"sai_is_language(c(\"猿も木から落ちる\", \"在公寓区，周边有很多吃的还有大型超市，很方便\"),                 language = \"Japanese\") #> [1]  TRUE FALSE"},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Match the input factor to supplied levels — sai_lvl_match","title":"Match the input factor to supplied levels — sai_lvl_match","text":"Match input factor supplied levels","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match the input factor to supplied levels — sai_lvl_match","text":"","code":"sai_lvl_match(.f, levels = NULL, ...)  sai_fct_match(.f, levels = NULL, ...)"},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match the input factor to supplied levels — sai_lvl_match","text":".f factor. levels levels factor. ... prompts LLM.","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_order.html","id":null,"dir":"Reference","previous_headings":"","what":"Reorder levels of an ordinal factor — sai_lvl_order","title":"Reorder levels of an ordinal factor — sai_lvl_order","text":"function reorders levels factor based sentiment scores levels. Using function can expensive (depending LLM used user's computer spec) users may wish use interactively copy output script.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_order.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reorder levels of an ordinal factor — sai_lvl_order","text":"","code":"sai_lvl_order(.f, copy = FALSE, ...)  sai_fct_reorder(.f)"},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_order.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reorder levels of an ordinal factor — sai_lvl_order","text":".f character vector assumed ordinal factor. copy logical value indicate whether output copied user's clipboard.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_lvl_order.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reorder levels of an ordinal factor — sai_lvl_order","text":"","code":"# to get the new level order # users should check if the new order sai_lvl_order(likerts$likert1) #> [1] \"Strongly Disagree\" \"Disagree\"          \"Somewhat Disagree\" #> [4] \"Neutral\"           \"Somewhat Agree\"    \"Agree\"             #> [7] \"Strongly Agree\"    # `copy = TRUE` copies the output into clipboard in a format that can be # entered easiliy in the user's script sai_lvl_order(likerts$likert1, copy = TRUE) #> [1] \"Strongly Disagree\" \"Disagree\"          \"Somewhat Disagree\" #> [4] \"Neutral\"           \"Somewhat Agree\"    \"Agree\"             #> [7] \"Strongly Agree\"    # to apply the new levels directly to the input sai_fct_reorder(likerts$likert1) #>  [1] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #>  [5] Disagree          Somewhat Agree    Strongly Agree    Somewhat Disagree #>  [9] Agree             Disagree          Somewhat Disagree Somewhat Disagree #> [13] Strongly Disagree Somewhat Agree    Somewhat Agree    Disagree          #> [17] Agree             Agree             Disagree          Strongly Agree    #> [21] Strongly Disagree Strongly Agree    Somewhat Agree    Somewhat Agree    #> [25] Strongly Disagree Strongly Disagree Agree             Somewhat Agree    #> [29] Somewhat Agree    Disagree          Disagree          Agree             #> [33] Strongly Disagree Neutral           Strongly Agree    Strongly Disagree #> [37] Neutral           Somewhat Disagree Agree             Disagree          #> 7 Levels: Strongly Disagree Disagree Somewhat Disagree ... Strongly Agree"},{"path":"https://emitanaka.org/SAI/reference/sai_option.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or set an option for the sai package — sai_option","title":"Get or set an option for the sai package — sai_option","text":"Get set option sai package","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_option.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or set an option for the sai package — sai_option","text":"","code":"sai_get_option(x = c(\"model\", \"port\", \"language\", \"num_predict\", \"all\"))  sai_set_option(x = c(\"model\", \"port\", \"num_predict\", \"language\"), val)  sai_set_model(val)  sai_set_port(val)  sai_set_language(val)"},{"path":"https://emitanaka.org/SAI/reference/sai_option.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or set an option for the sai package — sai_option","text":"x name option get set. val value option set.","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_translate.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate text from one language to another — sai_translate","title":"Translate text from one language to another — sai_translate","text":"Translate text one language another","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_translate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate text from one language to another — sai_translate","text":"","code":"sai_translate(text, from = NULL, to = sai_get_option(\"language\"))"},{"path":"https://emitanaka.org/SAI/reference/sai_translate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate text from one language to another — sai_translate","text":"text text translate. language translate . default NULL (specified). language translate . default \"English\". default can modified using sai_set_language().","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/sai_translate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Translate text from one language to another — sai_translate","text":"","code":"# example code sai_translate(c(\"猿も木から落ちる\", \"在公寓区，周边有很多吃的还有大型超市，很方便\")) #> [1] \"Even monkeys fall from trees.\\n\\n(This is a Japanese proverb, often translated as \\\"even the cleverest people can make mistakes\\\".)\" #> [2] \"It's very convenient as there are many places to eat and large supermarkets nearby in the apartment district.\""},{"path":"https://emitanaka.org/SAI/reference/sai_what_language.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine the language of the input text — sai_what_language","title":"Determine the language of the input text — sai_what_language","text":"Determine language input text","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_what_language.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine the language of the input text — sai_what_language","text":"","code":"sai_what_language(text)"},{"path":"https://emitanaka.org/SAI/reference/sai_what_language.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine the language of the input text — sai_what_language","text":"text text.","code":""},{"path":[]},{"path":"https://emitanaka.org/SAI/reference/sai_what_language.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine the language of the input text — sai_what_language","text":"","code":"sai_what_language(c(\"猿も木から落ちる\", \"在公寓区，周边有很多吃的还有大型超市，很方便\")) #> [1] \"Japanese\" \"Chinese\""},{"path":"https://emitanaka.org/SAI/reference/sai_yes_no.html","id":null,"dir":"Reference","previous_headings":"","what":"Answer with yes or no — sai_yes_no","title":"Answer with yes or no — sai_yes_no","text":"Answer yes ","code":""},{"path":"https://emitanaka.org/SAI/reference/sai_yes_no.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Answer with yes or no — sai_yes_no","text":"","code":"sai_yes_no(prompt)"},{"path":"https://emitanaka.org/SAI/reference/sai_yes_no.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Answer with yes or no — sai_yes_no","text":"prompt prompt.","code":""},{"path":"https://emitanaka.org/SAI/reference/salary.html","id":null,"dir":"Reference","previous_headings":"","what":"Ask A Manager Salary Survey 2021 — salary","title":"Ask A Manager Salary Survey 2021 — salary","text":"Ask Manager Salary Survey 2021","code":""},{"path":"https://emitanaka.org/SAI/reference/salary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ask A Manager Salary Survey 2021 — salary","text":"","code":"salary"},{"path":"https://emitanaka.org/SAI/reference/salary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Ask A Manager Salary Survey 2021 — salary","text":"data.frame 28,083 rows 18 columns timestamp timestampe response. age Age cateogry. \"old ?\" industry Categorical respondents can enter text . \"industry work ?\" job_title Text entry. \"Job title\" job_title_context Text entry. \"job title needs additional context, please clarify :\" salary_annual Text entry. \"annual salary? (indicate currency later question. part-time hourly, please enter annualized equivalent -- earn worked job 40 hours week, 52 weeks year.)\" salarly_additional Text entry. \"much additional monetary compensation get, (example, bonuses overtime average year)? Please include monetary compensation , value benefits.\" currency Categorical entry. \"Please indicate currency\" currency_other Text entry. \"\",\" please indicate currency :\" salary_context Text entry. \"income needs additional context, please provide :\" country Text entry. \"country work ?\" state Categorical entry. \"U.S., state work ?\" city Text entry. \"city work ?\" experience_overall Categorical entry. \"many years professional work experience overall?\" experience_in_field Categorical entry. \"many years professional work experience field?\" education Categorical entry.\"highest level education completed?\" gender Categorical entry. \"gender?\" race Multiselect entry. \"race? (Choose apply.)\"","code":""},{"path":"https://emitanaka.org/SAI/reference/salary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Ask A Manager Salary Survey 2021 — salary","text":"https://www.askamanager.org/2021/04/-much-money---make-4.html","code":""}]
